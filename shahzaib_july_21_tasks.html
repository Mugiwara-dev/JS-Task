<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shahzaib</title>
  </head>

  <body>
    <script>
        console.log("====== Q NO 1 =====");
        //Write a function that takes a sentence as input and returns the word with the highest number of repeated letters. If there are multiple words with the same number of repeated letters, return the first one found.
        let LetterCountI = (str) => {
          str = str.toLowerCase();
          let arr = str.split(" ");
          let count = 0;
          let word = "";
          for (let i in arr) {
            for (let a = 0; a < arr[i].length; a++) {
              let countNew = 0;
              for (let b = a; b < arr[i].length; b++) {
                if (arr[i][a] === arr[i][b]) {
                  countNew += 1;
                }
              }
              if (countNew > count) {
                count = countNew;
                word = arr[i];
              }
            }
          }
          console.log(count);
          return word;
        };
        console.log(LetterCountI("Minimum number of values you should remember is seventeen"));

        console.log("====== Q NO 2 =====");
        //Implement a function that takes an array of integers as input and returns the longest contiguous subarray with an equal number of even and odd numbers.
        let countEvenOdd = (arr) => {
          let evenCount = arr.filter((num) => num % 2 === 0).length;
          let oddCount = arr.length - evenCount;

          return [evenCount, oddCount];
        };

        let longestArray = (inputArray) => {
          let maxSubarray = [];
          let maxSubarrayLength = 0;

          for (let arr of inputArray) {
            for (let i = 0; i < arr.length; i++) {
              let currentSubarray = [arr[i]];
              let currentCounts = countEvenOdd(currentSubarray);

              for (let j = i + 1; j < arr.length; j++) {
                currentSubarray.push(arr[j]);
                currentCounts = countEvenOdd(currentSubarray);
                if (
                  currentCounts[0] === currentCounts[1] &&
                  currentSubarray.length > maxSubarrayLength
                ) {
                  maxSubarray = currentSubarray;
                  maxSubarrayLength = currentSubarray.length;
                }
              }
            }
          }

          return maxSubarray;
        };

        const inputArray = [
          [1, 2, 3, 4, 5],
          [1, 2, 3, 4, 5, 6],
          [1, 1, 2, 3, 2, 1, 2],
          [9, 2, 3, 2, 1],
        ];
        console.log(longestArray(inputArray));

        console.log("====== Q NO 3 =====");
        //Create a function that takes an object representing a person with properties such as name, age, and hobbies (an array of strings). The function should return the name of the oldest person who has a specific hobby.
        let getOldestPersonWithHobby = (persons, hobby) => {
          let oldestPerson = {};
          let oldestAge = 0;

          for (const person of persons) {
            if (person.hobbies.includes(hobby) && person.age > oldestAge) {
              oldestPerson = person;
              oldestAge = person.age;
            }
          }

          return oldestPerson;
        };

        const arr = [
          { name: "Ali", age: 30, hobbies: ["playing", "travelling", "singing"] },
          { name: "Umar", age: 22, hobbies: ["playing", "singing"] },
          {
            name: "Awais",
            age: 33,
            hobbies: ["reading", "eating", "development"],
          },
        ];

        console.log(getOldestPersonWithHobby(arr, "playing"));

        console.log("====== Q NO 4 =====");
        //Write a function that takes a string as input and returns the most frequent word that is not a stop word (e.g., "the", "and", "in"). The function should ignore case and consider all non-alphabetic characters as word delimiters.
        function mostFrequentNonStopWord(input) {
          const words = input
            .toLowerCase()
            .split(/[^a-z]+/)
            .filter(Boolean);
          const stopWords = ["the", "is", "in", "this"];
          const wordCount = {};
          words.forEach(function (word) {
            if (!stopWords.includes(word)) {
              if (wordCount[word]) {
                wordCount[word]++;
              } else {
                wordCount[word] = 1;
              }
            }
          });
          console.log(wordCount);
          let mostFrequentWord = "";
          let maxCount = 0;

          for (const word in wordCount) {
            if (wordCount[word] > maxCount) {
              mostFrequentWord = word;
              maxCount = wordCount[word];
            }
          }

          return mostFrequentWord;
        }
        console.log(mostFrequentNonStopWord("This is the example input string. The input string contains words."));

        console.log("====== Q NO 6 =====");
        // Create a function that takes an object representing a store inventory with properties such as item name, price, and stock quantity. The function should return the total value of all items in stock.
        let calculateInventoryValue = (inventory) => {
          let totalValue = 0;
          for (let i in inventory) {
            let itemValue = inventory[i].price * inventory[i].stock;
            totalValue += itemValue;
          }
          return totalValue;
        };
        const inventory = [
          { name: "potato", price: 10, stock: 5 },
          { name: "rice", price: 15, stock: 3 },
          { name: "mangoes", price: 20, stock: 2 },
        ];
        console.log(calculateInventoryValue(inventory));

      
        //Write a function that takes a string of mathematical expressions (e.g., "3 * (2 + 5) / 4") as input and returns the result of the expression. The function should handle parentheses and basic arithmetic operators (+, -, *, /).
        let resolveExpression = (str) => {
          return eval(str);
        };
        console.log(resolveExpression("3 * (2 + 5) / 4"));

        console.log("====== Q NO 8 =====");
        //Implement a function that takes an array of numbers as input and returns the longest subarray with consecutive elements in ascending order.
        let longestArr = (array) => {
          let longestSubArray = [];
          let longestLength = 0;

          for (let subArray of array) {
            if (subArray.length > longestLength) {
              longestSubArray = subArray;
              longestLength = subArray.length;
            }
          }
          return longestSubArray.sort((a, b) => a - b);
        };
        console.log(longestArr([
            [1, 2, 5, 4, 3],
            [1, 3, 6, 4, 9, 0],
            [3, 2, 1, 2],
            [3, 2, 1],
          ]));

        console.log("====== Q NO 10 =====");
        // Write a function that takes an array of strings as input and returns an object with the frequency count of words in the array. The function should ignore case and consider all non-alphabetic characters as word delimiters.
        let getWordFrequency = (input) => {
          const frequencies = {};
          for (const sentence of input) {
            const words = sentence.toLowerCase().match(/[a-z]+/g);

            for (const word of words) {
              frequencies[word] = (frequencies[word] || 0) + 1;
            }
          }
          return frequencies;
        };
        const input = [
          "This is the first sentence.",
          "The second sentence is longer.",
          "This is the third sentence.",
        ];
        console.log(getWordFrequency(input));
    </script>
  </body>
</html>
